<!--The content below is only a placeholder and can be replaced.-->
<dhis-menu></dhis-menu>
<div class="container-fluid" style="margin-top: 60px">
  <div class="row">
    <div class="col-md-2" style="padding-top: 5px">
      <span class="lead" > <i class="fa fa-search"></i> Indicator Search</span>
    </div>
    <div class="col-md-8">
     <input class="form-control" placeholder="Search By Name..." [(ngModel)]="queryterm">
    </div>
    <div class="col-md-2">
      <!--<button class="btn btn-outline-secondary cursor pull-right">-->
        <!--<i class="fa fa-list"> Indicator Groups</i>-->
      <!--</button>-->
    </div>
  </div>
</div>

<div class="container-fluid" style="margin-top: 20px">

  <div [@hiddenItem] = "loading?'notHidden':'hidden'" style="margin-bottom: 10px">
    <h5 class="text-center"><img src="assets/img/balls-5.svg" style="height: 70px"/>
      Loading Indicators( {{ completePercent | number }}% )
    </h5>
    <div class="progress" style="margin-bottom: 5px">
      <div
        class="progress-bar progress-bar-striped progress-bar-animated"
        role="progressbar"
        [attr.aria-valuenow]="completePercent"
        [attr.aria-valuemin]="0"
        [attr.aria-valuemax]="100"
        [style.width]="(completePercent)+'%'"
      ></div>
    </div>
  </div>


  <div class="card-deck">
    <div
      class="card col-sm-12 col-md-4"
      *ngFor="let indicator of indicators | filterByName: queryterm | paginate: config "
      (click) ="mouseEnter(indicator)"
    >
      <app-indicator [indicator]="indicator"></app-indicator>
      <button class="btn btn-outline-primary cursor" style="margin-bottom: 15px">
        <i class="fa fa-lightbulb-o"></i> More
      </button>
    </div>
  </div>
</div>
<div class="container-fluid">
  <div class="ourmodel"
       [@visibilityChanged]="hoverState || 'notHovered'"
  >
    <p><a class="btn btn-light btn-sm pull-right" (click)="mouseLeave()"><i class="fa fa-close"></i> </a></p>
    <app-details [selectedIndicator]="selectedIndicator"></app-details>
  </div>
</div>

<div class="row justify-content-center" style="margin-top: 25px">
  <pagination-template #nm="paginationApi" [id]="config.id" (pageChange)="config.currentPage = $event">
    <nav aria-label="Page navigation example">
      <ul class="pagination ">
        <li class="page-item" [class.disabled]="nm.isFirstPage()">
          <a class="page-link" style="cursor: pointer" (click)="nm.previous()" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
          </a>
        </li>
        <li class="page-item"
            *ngFor="let page of nm.pages"
            [class.active]="nm.getCurrent() === page.value"
        ><a class="page-link" style="cursor: pointer" (click)="nm.setCurrent(page.value)">
          {{ page.label }}
        </a></li>
        <li class="page-item" [class.disabled]="nm.isLastPage()">
          <a class="page-link" style="cursor: pointer" (click)="nm.next()" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">Next</span>
          </a>
        </li>
      </ul>
    </nav>
  </pagination-template>
</div>



